{% extends "base.html" %}

{% block head %}
    <!-- Recursos específicos desta página -->
    <!-- <link rel="stylesheet" href="/static/mystyles.css"> -->
{% endblock %}

<!-- Ativação do Menu-->
{% block active_clientes %}active{% endblock %}

<!-- Conteúdo da página -->
{% block content %}

<div class="myContainer mt-2">
    <h3>Clientes</h3>
    <a href="/cliente/add" class="btn btn-primary mb-3">Adicionar Cliente</a>
    <div class="table-responsive">
        <table id="clientesTable" class="table table-striped" style="width:100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Email</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for cliente in clientes %}
                <tr>
                    <td>{{ cliente.id }}</td>
                    <td>{{ cliente.nome }}</td>
                    <td>{{ cliente.email }}</td>
                    <td>
                        <a href="/cliente/edit/{{ cliente.id }}" class="btn btn-success">Editar</a>
                        <a href="/cliente/delete/{{ cliente.id }}" class="btn btn-danger">Excluir</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
      </div>
      

</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.0.0/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.print.min.js"></script>

<script>
    var clientesTable = new DataTable('#clientesTable', {
            "responsive": true,
			"bJQueryUI": true,
			"autoWidth": false,
			dom: 'Bfrtip',
            buttons: [
                {
                    extend: 'copy',
                    text: 'Copiar'
                },
                {
                    extend: 'csv',
                    text: 'CSV'
                },
                {
                    extend: 'excel',
                    text: 'Excel'
                },
                {
                    extend: 'pdf',
                    text: 'PDF'
                },
                {
                    extend: 'print',
                    text: 'Imprimir'
                }
            ],
            language: {
                url: 'https://cdn.datatables.net/plug-ins/1.11.3/i18n/pt_br.json'
            }
        });

        // Diminuir o zoom da tabela para mostrar mais colunas
        table.style.zoom = "80%";

        // Set autoWidth como true
        data_table.columns.adjust().draw();
    
</script>

{% endblock %}